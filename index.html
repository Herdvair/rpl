<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <script src="script.js"></script>
        <script src="https://kit.fontawesome.com/yourcode.js" crossorigin="anonymous"></script>
        <title>Dashboard Page</title>
        <link rel="stylesheet" href="style.css"/>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins">
        <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css'>
    </head>
    <body>
        <div class="sidebar">
            <h2 class="bar-item">SMART PLANT</h2>
            <br>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">Setting</a></li>
                <li><a href="#">User</a></li>
            </ul>
        </div>
        <div class="content">
            <div class="header">
                <div class="nav">
                    <h1>Hello,User!</h1>
                    <i class="fi fi-rr-user"></i>
                </div>
            </div>
            <div class="content_2">
                <div class="container">
                    <div class="sensors">
                        <div class="sensor">
                            <div class="status_sensor">
                                <div class="status_colour_normal"></div>
                            </div>
                            <div class="sensor_value">
                                <div class="value_text">400</div>
                            </div>
                            <div class="sensor_name">
                                <div class="name_text">Intensitas Cahaya</div>
                            </div>
                        </div>
                        <div class="sensor">
                            <div class="status_sensor">
                                <div class="status_colour_notnormal"></div>
                            </div>
                            <div class="sensor_value">
                                <div class="value_text">29</div>
                            </div>
                            <div class="sensor_name">
                                <div class="name_text">Suhu (C)</div>
                            </div>
                        </div>
                        <div class="sensor">
                            <div class="status_sensor">
                                <div class="status_colour_normal"></div>
                            </div>
                            <div class="sensor_value">
                                <div class="value_text">100</div>
                            </div>
                            <div class="sensor_name">
                                <div class="name_text">Kelembapan (%)</div>
                            </div>
                        </div>
                    </div>
                        <div class="details">
                            <h3>Plant details</h3>
                                <img src="https://4.bp.blogspot.com/-mWtVgJA44JU/WtNridrZNtI/AAAAAAAAZIc/k2odXUhOGWIogYwvmzNH_M68D6OyKrVtQCLcBGAs/s1600/data.JPG" style="float:left; width: 60%; height: 60%;">
                        </div>
                        <div class="aktuators">
                            <div class="item-actuator">
                                <span class="text">Fan</span>
                                <i class="fa-solid fa-toggle-on"></i>
                            </div>
                            <div class="item-actuator">
                                <span class="text">Heater</span>
                                <i class="fa-solid fa-toggle-off"></i>
                            </div>
                            <div class="item-actuator">
                                <span class="text">Lamp</span>
                                <i class="fa-solid fa-toggle-on"></i>
                            </div>
                            <div class="item-actuator">
                                <span class="text">Humidifier</span>
                                <i class="fa-solid fa-toggle-off"></i>
                            </div>
                        </div>
                </div>
            </div>
        </div>
    </body>
    <script>
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-analytics.js";
import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyDpITS4WgjWnMTJzlQAX_qe1WpKcYeuv_I",
  authDomain: "smart-plant-2b29a.firebaseapp.com",
  projectId: "smart-plant-2b29a",
  storageBucket: "smart-plant-2b29a.appspot.com",
  messagingSenderId: "793690722099",
  appId: "1:793690722099:web:6907593580e17fd7c6f846",
  measurementId: "G-X44YWWQYNG"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);

const db = getDatabase(app);


const lightRef = ref(db, 'sensors/light/value')
onValue(lightRef,(snapshot) => {
    const data = snapshot.val();
    console.log(data);
})

const tempRef = ref(db, 'sensors/temp/value')
onValue(tempRef,(snapshot) => {
    const data = snapshot.val();
    console.log(data);
})        

const humRef = ref(db, 'sensors/humidity/value')
onValue(humRef,(snapshot) => {
    const data = snapshot.val();
    console.log(data);
})
</script> 
</html>
